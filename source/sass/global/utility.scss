// =============================================================================
// UTILITY CLASSES
// =============================================================================

// -----------------------------------------------------------------------------
// Accessibility
// -----------------------------------------------------------------------------

// Hides element visually, but keeps it accessible for screen readers
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  white-space: nowrap;
  border: 0;
  clip-path: inset(50%);
}

// -----------------------------------------------------------------------------
// Scroll Lock
// -----------------------------------------------------------------------------

// Scroll lock (for modals, not used for burger menu)
// Burger menu allows scrolling - better UX for dropdown-style menus
.scroll-lock {
  overflow: hidden;
  touch-action: none;
}

// -----------------------------------------------------------------------------
// States
// -----------------------------------------------------------------------------

// Hidden element
.is-hidden {
  display: none;
}

// Visible element
.is-visible {
  display: block;
}

// Open state (for burger menu and slide-in elements)
.is-open {
  visibility: visible;
  opacity: 1;
  pointer-events: auto;
  transform: translateX(0);
}

// Disabled state (for links and other interactive elements)
.is-disabled {
  color: $color-disabled;
  pointer-events: none;
  cursor: default;
}

// -----------------------------------------------------------------------------
// Focus Management
// -----------------------------------------------------------------------------

// Removes outline on click with mouse, but keeps for keyboard
.js-focus-visible :focus:not(.focus-visible) {
  outline: none;
}

// -----------------------------------------------------------------------------
// Validation States
// -----------------------------------------------------------------------------

// Invalid state (added via JS validation)
// Increased specificity to override .input styles
.input.is-invalid {
  border-color: $color-error;
  background-color: $color-form-error-bg;

  // Keep error border even when focused
  &:focus,
  &:focus-visible {
    border-color: $color-error;
  }
}
